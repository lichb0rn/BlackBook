---
aliases: ["сортировка подсчётом", "counting sort"]
---
MOC:  [[Algorithms]]

---

Алгоритм целесообразно применять только в случаях, когда диапазон значений достаточно мал по сравнению с сортируемым значением. Например, миллион целых чисел до 1000.


## Производительность
Скорость: $O(n + k)$
Память: $O(n)$


## Код

```swift

    public mutating func countingSort() {
        guard let maxElement = self.max(),
              let minElement = self.min() else { return }
        
        var result = Array(repeating: 0, count: count)
        let range = maxElement - minElement + 1
        var countArray = Array(repeating: 0, count: range)
        
        forEach { number in
            countArray[number - minElement] += 1
        }
        
        for idx in 1..<countArray.count {
            countArray[idx] += countArray[idx - 1]
        }
        
        for number in self.reversed() {
            let idx = countArray[number - minElement] - 1
            result[idx] = number
            countArray[number - minElement] -= 1
        }
        
        self = result
    }
```