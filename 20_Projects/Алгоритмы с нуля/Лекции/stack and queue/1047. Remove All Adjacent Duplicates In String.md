---
created: 2026-02-23
tags:
  - type/note
source: https://leetcode.com/problems/remove-all-adjacent-duplicates-in-string/description/
related:
area:
up:
---
```go
func removeDuplicates(s string) string {
	ss := NewStack(len(s))

	for _, c := range s {
		prev, ok := ss.Peek()
		if ok && prev == c {
			ss.Pop()
		} else {
			ss.Push(c)
		}
	}
	return string(ss.arr)
}

type stack struct {
	arr []rune
}

func NewStack(l int) stack {
	return stack{
		arr: make([]rune, 0, l),
	}
}

func (s *stack) Push(e rune) {
	s.arr = append(s.arr, e)
}

func (s *stack) Pop() (rune, bool) {
	if s.Size() == 0 {
		return 0, false
	}
	prev := s.arr[len(s.arr)-1]
	s.arr = s.arr[:len(s.arr)-1]
	return prev, true
}

func (s *stack) Size() int {
	return len(s.arr)
}

func (s *stack) Peek() (rune, bool) {
	if s.Size() == 0 {
		return 0, false
	}
	return s.arr[len(s.arr)-1], true
}
```